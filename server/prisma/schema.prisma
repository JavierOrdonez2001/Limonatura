

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


model Roles {
  idRol     String @id @default(uuid())
  rol       String @unique 
  usuario   Usuarios[]
}


model Usuarios{
  idUsuario                   String  @id @default(uuid())
  nombre                      String 
  rut                         String  @unique
  email                       String  @unique
  password                    String
  telefono                    String  @unique
  id_rol_fk                   String  @unique
  id_direccion_fk             String  @unique
  rol                         Roles             @relation(fields: [id_rol_fk], references: [idRol])
  usuario_direccion           Direcciones       @relation(fields: [id_direccion_fk], references: [idDirecciones])
  carrito                     Carrito[]
}



model Direcciones {
  idDirecciones             String @id @default(uuid())
  pais                      String 
  ciudad                    String
  comuna                    String
  calle                     String
  numero                    String 
  id_usuario_direccion_fk   String
  usuario                   Usuarios[]
}


model Carrito{
  idCarrito           String @id @default(uuid())
  id_usuario_fk       String @unique
  usuario             Usuarios @relation(fields: [id_usuario_fk], references: [idUsuario])
  producto            Productos[]
}

model Productos {
  idProducto        String    @id @default(uuid())
  numero_producto   String    @unique
  tipo              String
  descripcion       String
  precio            Decimal   @default(0.00)
  stock             Int
  peso_kg           Int?
  id_carrito_fk     String?
  carrito           Carrito? @relation(fields: [id_carrito_fk], references: [idCarrito])
 
}